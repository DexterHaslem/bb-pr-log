<template>
  <require from="bootstrap/css/bootstrap.css"></require>

  <span></span>
  <div class="container-fluid">
    <h4>${title}</h4>
    <div style="width: 95%;">
      <table class="table table-bordered table-condensed table-hover">
        <thead>
        <tr>
          <td width="25">View</td>
          <td>Action</td>
          <td width="150">Update by</td>
          <td width="10%">Repo</td>
          <td>Owner</td>
          <td>Title</td>
          <td># comments</td>
          <td># tasks</td>
          <td width="200">Time</td>
        </tr>
        </thead>
        <tr repeat.for="log of logs"> <!-- as-element="compose" view='./log_template.html'> -->
          <td>
            <a route-href="route: detail; params.bind: {id: log.id}">
              <span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span>
            </a>
          </td>

          <td>${prettyDbAction(log.type)}</td>

          <td>
            <a href.bind="log.payload.actor.links.html.href">
              ${log.payload.actor.display_name}
            </a>
          </td>

          <td>
            <a href.bind="log.payload.repository.links.html.href">
              ${log.payload.repository.full_name}
            </a>
          </td>

          <td>
            <a href.bind="log.payload.pullrequest.author.links.html.href">
              ${log.payload.pullrequest.author.display_name}
            </a>
          </td>

          <td>
            <a href.bind="log.payload.pullrequest.links.html.href">
              ${log.payload.pullrequest.title}
            </a>
          </td>

          <td>${log.payload.pullrequest.comment_count}</td>
          <td>${log.payload.pullrequest.task_count}</td>
          <td>${log.time}</td>
        </tr>
      </table>
    </div>
  </div>
</template>
